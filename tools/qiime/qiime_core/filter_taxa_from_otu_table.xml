<tool id="qiime_filter_taxa_from_otu_table" name="filter taxa from otu table" version="@WRAPPER_VERSION@.0">
    <description>Filter taxa from an OTU table</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="aggressive"><![CDATA[
        filter_taxa_from_otu_table.py
            -i '$input_otu_table_fp'
            -o '$output_otu_table_fp'
            #if str($positive_taxa):
             -p '$positive_taxa'
            #end if
            #if str($negative_taxa):
             -n '$negative_taxa'
            #end if
            #if str($metadata_field):
             --metadata_field='$metadata_field'
            #end if
    ]]></command>
    <inputs>
        <param name="input_otu_table_fp" label="The input otu table filepath" help="(-i/--input_otu_table_fp)" format="txt" optional="False" type="data"/>
        <param name="positive_taxa" label="-p/--positive_taxa: comma-separated list of taxa to retain [default: None; retain all taxa]" optional="True" type="text"/>
        <param name="negative_taxa" label="-n/--negative_taxa: comma-separated list of taxa to discard [default: None; retain all taxa]" optional="True" type="text"/>
        <param name="metadata_field" default="taxonomy" label="--metadata_field: observation metadata identifier to filter based on [default: taxonomy]" optional="True" type="text"/>
    </inputs>
    <outputs>
        <data name="output_otu_table_fp" format="txt" label="${tool.name} on ${on_string}: filtered OTU table"/>
    </outputs>
    <tests>
    </tests>
    <help><![CDATA[
**What it does**

    ]]></help>
    <citations>
        <expand macro="citations"/>
    </citations>
</tool>
